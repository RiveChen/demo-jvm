FormatStyle: file

# --- Check Rules ---
# Core Strategies:
# 1. Enable cppcoreguidelines-* (C++ Core Guidelines)
# 2. Enable hicpp-* (High Integrity C++)
# 3. Enable cert-* (CERT Security Standard)
# 4. Enable concurrency-* (Concurrency checks)
# 5. Disable specific platform rules (android, fuchsia, zircon, darwin) to avoid false positives
Checks: >
  -*,
  bugprone-*,
  -bugprone-easily-swappable-parameters,
  cert-*,
  clang-analyzer-*,
  concurrency-*,
  cppcoreguidelines-*,
  hicpp-*,
  misc-*,
  -misc-non-private-member-variables-in-classes,
  modernize-*,
  -modernize-use-trailing-return-type,
  performance-*,
  portability-*,
  readability-*,
  -google-*,
  -llvmlibc-*,
  -fuchsia-*,
  -android-*,
  -zircon-*,
  -abseil-*,
  -darwin-*,
  -objc-*,

# --- Zero Tolerance Policy ---
# Treat all warnings as errors.
# Any non-conforming naming or potential risk will cause the build to fail.
WarningsAsErrors: "*"

# --- Strict Header File Filtering ---
# Ensure all files under the source directories are checked
HeaderFilterRegex: "src/.*|include/.*"

# --- Rule Fine-tuning ---
CheckOptions:
  # Enforce: All member variables must be initialized on declaration
  - key: cppcoreguidelines-pro-type-member-init.IgnoreArrays
    value: 0
  # Enforce: Single-argument constructors must be marked explicit
  - key: google-explicit-constructor.SingleArgument
    value: 1
  # Limit function complexity (cyclomatic complexity no more than 15)
  - key: readability-function-cognitive-complexity.Threshold
    value: 15
  # Limit function line count
  - key: readability-function-size.LineThreshold
    value: 80
